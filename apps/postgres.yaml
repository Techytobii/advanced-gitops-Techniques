apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
name: postgres
namespace: argocd
spec:
project: default
source:
repoURL: https://charts.bitnami.com/bitnami
chart: postgresql
targetRevision: 12.0.0 # pin a chart version
helm:
values: |-
global:
postgresql:
postgresqlPassword: REPLACE_ME # store as secret in real deployments
destination:
server: https://kubernetes.default.svc
syncPolicy:
automated:
prune: true
selfHeal: true